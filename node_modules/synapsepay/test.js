var Clients = require('./lib/Clients.js');
var Users = require('./lib/Users.js');
var Nodes = require('./lib/Nodes.js');
var Transactions = require('./lib/Transactions.js');
var PublicKey = require('./lib/PublicKey.js');

const Helpers = {
  client: new Clients('client_id_yKMhD56wrbouzNeYmTa4vJcFWSk9lHpd01LEBiVP', 'client_secret_MI3cT8xiRKQs6L9OmyUVFAlNkeBq0Hw7P4C1tujY', false),
  ip_address: '127.0.0.1',
  fingerprint: '5aae733c07d79c741fbb12e039bbee6a'
};

let user;
let node;
let trxn;

const testFunc = () => {
  PublicKey.get(
    Helpers.client,
    {},
    function(err, pubKeyObj) {
      if (err) {
        console.log('ERR ', err);
        return;
      } else {
        console.log('PK ', pubKeyObj);
        return;
      }
    }
  )
}

// const testFunc = () => {
//   Users.get(
//     Helpers.client,
//     {
//       _id: '5c80142131d1770068fa9b5d',
//       fingerprint: 'd1882ccdef25273d58f3fc9adad7f4a3',
//       ip_address: '127.0.0.1'
//     },
//     function(err, userObj) {
//       if (err) {
//         console.log('ERR ', err);
//       } else {
//         user = userObj;
//         Nodes.get(
//           userObj,
//           {
//             _id: '5c8014394b7ba903595c2a3e'
//           },
//           function(err, nodeObj) {
//             if (err) {
//               console.log('ERR ', err);
//             } else {
//               node = nodeObj;
//               Transactions.get(
//                 nodeObj,
//                 {
//                   _id: '5c801dbb26560a0067b7a104'
//                 },
//                 function(err, trxnObj) {
//                   if (err) {
//                     console.log('ERR ', err);
//                   } else {
//                     trxnObj.dispute(
//                       {
//                         dispute_reason: 'CHARGE_BACK'
//                       },
//                       function(err, json) {
//                         if (err) {
//                           console.log('ERR ', err);
//                           return;
//                         } else {
//                           console.log('SUCCESS ', json);
//                           return;
//                         }
//                       }
//                     )
//                   }
//                 }
//               )
//             }
//           }
//         )
//       }
//     }
//   );
//   return;
// };

testFunc();
